<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./play.css">
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flinch Ball</title>
</head>

<body>
    <header>
        <h1 class="title">FLINCH BALL</h1>
    </header>

    <div class="instructions">
        <h1 class="heading">INSTRUCTIONS</h1>
        <h2>Help the neon ball fly and dodge the glowing obstacles.<br>Use Spacebar or Enter to jump!</h2>
    </div>

    <div class="name">
        <form action="javascript:void(0);" method="post" id="nameForm">
            <label for="firstName">Enter your name:</label>
            <input type="text" id="firstName" name="firstName" required>

            <label for="lastName">Enter a username:</label>
            <input type="text" id="lastName" name="lastName" required>

            <input type="button" value="Submit" onclick="submitForm()">
        </form>
    </div> 

    <div class="nickname" id="nicknameDiv" style="display: none;">
        <h2>Nickname: <span id="nicknameDisplay"></span></h2>
    </div>

    <div class="help" style="display: none;">
        <h1>You're Ready! Let's Play!</h1>
    </div>

    <a href="game.html" class="play-button" id="playButton" style="display: none;">PLAY</a>        

    <script>
        function submitForm() {
            var firstName = document.getElementById("firstName").value;
            var lastName = document.getElementById("lastName").value;

            if (firstName && lastName) {
                var nickname = lastName;
                document.getElementById("nicknameDisplay").textContent = nickname;

                document.getElementById("nameForm").style.display = "none";
                document.getElementsByClassName("help")[0].style.display = "block";
                document.getElementById("nicknameDiv").style.display = "block";

                var playButton = document.getElementById("playButton");
                playButton.style.display = "block";
                playButton.href = 'game.html?nickname=' + encodeURIComponent(nickname);

                localStorage.setItem('nickname', nickname);
            } else {
                alert("Please fill in both fields.");
            }
        }
    </script>
</body>
</html>
